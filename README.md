### 一、工作目的

​		随着电子商务和网络购物的快速发展，快递业务量呈现爆发式增长。但是，现今的快递代收点不但种类多、分布散乱，容易出现包裹损坏、快件丢失、个人信息泄露等问题，导致用户对快递末端配送服务的满意度极低。本课题旨在设计并实现一个社区快递代取服务系统，通过建立智能化的快递管理平台，优化快递领取流程，减轻快递员的工作负担，提升社区居民的便利性和满意度。系统将集成注册登录、包裹管理、通知提醒、用户评价等功能，提供一站式快递代取服务。

### 二、工作内容及具体要求

​		社区快递代取服务系统的设计主要分普通用户、兼职代取用户、管理员三种身份，分别实现不同身份下的功能及界面设计：

1. **普通用户**：主要实现包括注册与登录、个人中心、公告咨询、快递代取服务模块、通知提醒、评价反馈等功能模块。

   - **注册与登录**：用户通过手机号等方式注册账号。
   - **个人中心**：查看和修改个人信息，包括姓名、昵称、联系方式、收货地址等。
   - **公告咨询**：公布附近快递站点等信息。
   - **快递代取服务模块**：
     - 提交代取申请（选择代取时间和地点，录入包裹信息，包括快递公司、运单号等）；
     - 查看代取记录（代取时间、代取人等）；
     - 快递状态跟踪：实时更新包裹的状态，包括到达快递点、代取中、已领取等。
   - **通知提醒**：
     - 快递到达通知，当包裹到达快递点时，系统自动发送通知给用户；
     - 代取成功通知，包裹被代取成功后，系统发送通知给用户；
     - ~~自定义提醒，用户可以设置个性化提醒，如重要包裹到达提醒等。~~
   - **评价反馈**：
     - 对代取服务进行评价，用户可以对代取服务进行评价，填写满意度和反馈意见；
     - 提交投诉，用户可以在线提交投诉，系统记录并转交相关人员处理。

2. **兼职代取用户**：主要实现包括账号申请、个人中心（评分）、快递信息管理、代取服务、通知提醒等功能。

   - **快递信息管理**：
     - 录入包裹信息（快递公司、运单号、收件人信息等）。
     - 更新包裹状态（到达快递点、代取中、已领取等）
   - **代取服务**：
     - 查看并确认用户的代取申请；
     - 更新代取记录（代取时间、代取人、领取人等）。
   - **通知提醒** 

3. **管理员**：主要实现用户管理、兼职用户管理、公告资讯管理、代拿任务管理、快递信息管理、反馈管理、可视化统计等功能模块。

   可选功能：智能分配任务（根据地址）、服务信誉评级、语音助手交互、特殊物品取件、取件预约等 。 

### 工作进度分配

第1~2周：查看书籍，相关文献等，详细分析系统开发需求，完成开题报告和开题答辩。
第3~4周：学习Java等相关开发语言及框架，并完成系统概要及详细设计。
第5~6周：完成系统普通用户相关功能的实现及界面设计，构思整体框架。
第7~8周：编写代码实现兼职代取用户相关功能及界面设计。
第9~10周：编写代码实现管理员相关功能及界面设计。
第11~12周：对系统代码进行完善和调试，保证运行准确无误，初步撰写毕业论文。
第13~14周：撰写并完成毕业论文和ppt，准备答辩。





# 数据库表结构设计

#### 1. 普通用户表（ordinary_users）

用于存储普通用户的基本信息。

| 字段名       | 数据类型     | 描述          | 约束条件         |
| ------------ | ------------ | ------------- | ---------------- |
| user_id      | INT          | 用户 ID，主键 | 自增，非空，唯一 |
| phone_number | VARCHAR(20)  | 手机号码      | 非空，唯一       |
| password     | VARCHAR(255) | 用户密码      | 非空             |
| name         | VARCHAR(50)  | 用户姓名      | 可空             |
| nickname     | VARCHAR(50)  | 用户昵称      | 可空             |
| contact_info | VARCHAR(255) | 联系方式      | 非空             |
| address      | VARCHAR(255) | 收货地址      | 非空             |

#### 2. 兼职代取用户表（part_time_pickup_users）

用于存储兼职代取用户的基本信息和评分。

| 字段名         | 数据类型     | 描述              | 约束条件         |
| -------------- | ------------ | ----------------- | ---------------- |
| pickup_user_id | INT          | 代取用户 ID，主键 | 自增，非空，唯一 |
| phone_number   | VARCHAR(20)  | 手机号码          | 非空，唯一       |
| password       | VARCHAR(255) | 用户密码          | 非空             |
| name           | VARCHAR(50)  | 用户姓名          | 可空             |
| nickname       | VARCHAR(50)  | 用户昵称          | 可空             |
| contact_info   | VARCHAR(255) | 联系方式          | 非空             |
| score          | FLOAT        | 兼职代取用户评分  | 可空             |

#### 3. 公告表（announcements）

用于存储系统公告信息。

| 字段名          | 数据类型     | 描述          | 约束条件         |
| --------------- | ------------ | ------------- | ---------------- |
| announcement_id | INT          | 公告 ID，主键 | 自增，非空，唯一 |
| title           | VARCHAR(255) | 公告标题      | 非空             |
| content         | TEXT         | 公告内容      | 非空             |
| publish_time    | DATETIME     | 发布时间      | 非空             |

#### 4. 包裹表（packages）

用于存储包裹的详细信息。

| 字段名          | 数据类型    | 描述                                     | 约束条件                                              |
| --------------- | ----------- | ---------------------------------------- | ----------------------------------------------------- |
| package_id      | INT         | 包裹 ID，主键                            | 自增，非空，唯一                                      |
| express_company | VARCHAR(50) | 快递公司名称                             | 非空                                                  |
| tracking_number | VARCHAR(50) | 运单号                                   | 非空，唯一                                            |
| recipient_id    | INT         | 收件人 ID，外键                          | 非空，关联 ordinary_users 表的 user_id                |
| status          | VARCHAR(20) | 包裹状态（到达快递点、代取中、已领取等） | 非空                                                  |
| arrival_time    | DATETIME    | 到达快递点时间                           | 可空                                                  |
| pickup_time     | DATETIME    | 代取时间                                 | 可空                                                  |
| pickup_user_id  | INT         | 代取用户 ID，外键                        | 可空，关联 part_time_pickup_users 表的 pickup_user_id |

#### 5. 代取申请表（pickup_applications）

用于记录普通用户提交的代取申请信息。

| 字段名          | 数据类型     | 描述                                 | 约束条件                               |
| --------------- | ------------ | ------------------------------------ | -------------------------------------- |
| application_id  | INT          | 代取申请 ID，主键                    | 自增，非空，唯一                       |
| user_id         | INT          | 申请人 ID，外键                      | 非空，关联 ordinary_users 表的 user_id |
| package_id      | INT          | 包裹 ID，外键                        | 非空，关联 packages 表的 package_id    |
| pickup_time     | DATETIME     | 代取时间                             | 非空                                   |
| pickup_location | VARCHAR(255) | 代取地点                             | 非空                                   |
| status          | VARCHAR(20)  | 申请状态（待确认、已确认、已完成等） | 非空                                   |

#### 6. 评价反馈表（evaluations）

用于记录普通用户对代取服务的评价和反馈信息。

| 字段名        | 数据类型 | 描述              | 约束条件                               |
| ------------- | -------- | ----------------- | -------------------------------------- |
| evaluation_id | INT      | 评价 ID，主键     | 自增，非空，唯一                       |
| user_id       | INT      | 评价用户 ID，外键 | 非空，关联 ordinary_users 表的 user_id |
| package_id    | INT      | 包裹 ID，外键     | 非空，关联 packages 表的 package_id    |
| satisfaction  | INT      | 满意度评分        | 非空                                   |
| feedback      | TEXT     | 反馈意见          | 可空                                   |
| is_complaint  | BOOLEAN  | 是否为投诉        | 非空，默认 false                       |

#### 7. 管理员表（administrators）

用于存储管理员的基本信息。

| 字段名   | 数据类型     | 描述            | 约束条件         |
| -------- | ------------ | --------------- | ---------------- |
| admin_id | INT          | 管理员 ID，主键 | 自增，非空，唯一 |
| username | VARCHAR(50)  | 管理员用户名    | 非空，唯一       |
| password | VARCHAR(255) | 管理员密码      | 非空             |

### 表之间的关系

- `ordinary_users` 表与 `packages` 表：一对多关系，一个普通用户可以有多个包裹，通过 `recipient_id` 关联。
- `part_time_pickup_users` 表与 `packages` 表：一对多关系，一个兼职代取用户可以代取多个包裹，通过 `pickup_user_id` 关联。
- `packages` 表与 `pickup_applications` 表：一对多关系，一个包裹可以有多个代取申请，通过 `package_id` 关联。
- `ordinary_users` 表与 `pickup_applications` 表：一对多关系，一个普通用户可以提交多个代取申请，通过 `user_id` 关联。
- `ordinary_users` 表与 `evaluations` 表：一对多关系，一个普通用户可以有多个评价反馈，通过 `user_id` 关联。
- `packages` 表与 `evaluations` 表：一对多关系，一个包裹可以有多个评价反馈，通过 `package_id` 关联。



# 主要内容

以下是社区快递代取服务系统中三种身份对应功能模块的详细内容：

### 普通用户

#### 1. 注册与登录

- **注册**：用户通过输入手机号码获取验证码，验证手机号码的有效性，同时设置登录密码，完成账号注册。注册成功后，系统将用户信息存储到数据库中。
- **登录**：用户输入已注册的手机号码和密码，系统验证信息的准确性，若验证通过则允许用户登录系统，并将用户的手机号码和角色信息存储在 session 或 sessionStorage 中，以便后续操作使用。

#### 2. 个人中心

- **查看个人信息**：用户可以查看自己的姓名、昵称、联系方式、收货地址等个人信息。
- **修改个人信息**：用户可以修改上述个人信息，修改完成后，系统将更新数据库中的相应信息。

#### 3. 公告咨询

- **查看公告**：系统公布附近快递站点的信息，如地址、营业时间等，用户可以随时查看这些公告内容。

#### 4. 快递代取服务模块

- **提交代取申请**
  - **选择代取时间和地点**：用户可以选择合适的代取时间和代取地点。
  - **录入包裹信息**：用户需要录入包裹的快递公司、运单号等信息，系统将这些信息与用户 ID 关联，存储到代取申请表中。
- **查看代取记录**：用户可以查看自己的代取记录，包括代取时间、代取人等信息。
- **快递状态跟踪**：系统实时更新包裹的状态，用户可以查看包裹当前的状态，如到达快递点、代取中、已领取等。

#### 5. 通知提醒

- **快递到达通知**：当包裹到达快递点时，系统自动生成一条快递到达通知，包含包裹 ID 信息，发送给对应的用户。
- **代取成功通知**：包裹被代取成功后，系统发送代取成功通知给用户，通知中包含包裹 ID 信息。

#### 6. 评价反馈

- **评价代取服务**：用户可以对代取服务进行评价，填写满意度评分和反馈意见，系统将这些信息存储到评价反馈表中。
- **提交投诉**：用户可以在线提交投诉，填写投诉内容，系统记录投诉信息并转交相关人员处理。

### 兼职代取用户

#### 1. 账号申请

- **填写申请信息**：兼职代取用户需要填写手机号码、密码、姓名、昵称、联系方式等基本信息，同时可能需要提供一些额外的身份验证信息。
- **等待审核**：系统收到申请后，管理员对申请信息进行审核，审核通过后，兼职代取用户的账号方可正式使用。

#### 2. 个人中心（评分）

- **查看个人信息**：兼职代取用户可以查看自己的基本信息，如手机号码、姓名、昵称、联系方式等。
- **查看评分**：用户可以查看自己的兼职代取评分，该评分是根据用户的代取服务质量和用户评价等因素综合计算得出的。

#### 3. 快递信息管理

- **录入包裹信息**：兼职代取用户需要录入包裹的快递公司、运单号、收件人信息等，系统将这些信息存储到包裹表中。
- **更新包裹状态**：兼职代取用户可以实时更新包裹的状态，如到达快递点、代取中、已领取等，系统将更新包裹表中的相应信息。

#### 4. 代取服务

- **查看并确认用户的代取申请**：兼职代取用户可以查看普通用户提交的代取申请，选择是否确认接受该申请。若确认接受，系统将更新代取申请表中的申请状态。
- **更新代取记录**：兼职代取用户在完成代取操作后，需要更新代取记录，包括代取时间、代取人、领取人等信息，系统将更新代取申请表中的相应信息。

#### 5. 通知提醒

- 接收系统发送的各类通知，如普通用户提交的新代取申请通知等。

### 管理员

#### 1. 用户管理

- **查看用户信息**：管理员可以查看所有普通用户和兼职代取用户的信息，包括基本信息和账号状态等。
- **修改用户信息**：管理员可以根据实际情况修改用户的信息，如重置密码、修改联系方式等。
- **冻结/解冻用户账号**：对于违规或异常的用户账号，管理员可以进行冻结操作；在用户问题解决后，管理员可以解冻账号。

#### 2. 兼职用户管理

- **审核兼职用户申请**：管理员对兼职代取用户的账号申请进行审核，决定是否通过申请。
- **管理兼职用户评分**：管理员可以查看和管理兼职代取用户的评分，确保评分的公正性和准确性。

#### 3. 公告资讯管理

- **发布公告**：管理员可以发布关于附近快递站点、系统维护等信息的公告。
- **修改公告**：管理员可以修改已发布的公告内容。
- **删除公告**：管理员可以删除不再需要的公告。

#### 4. 代拿任务管理

- **查看代取申请**：管理员可以查看所有普通用户提交的代取申请信息。
- **分配代取任务**：在必要时，管理员可以手动分配代取任务给兼职代取用户。
- **监控任务进度**：管理员可以实时监控代取任务的进度，确保任务按时完成。

#### 5. 快递信息管理

- **查看包裹信息**：管理员可以查看所有包裹的详细信息，包括包裹状态、快递公司、运单号等。
- **修改包裹信息**：管理员可以根据实际情况修改包裹的信息。

#### 6. 反馈管理

- **查看评价反馈**：管理员可以查看用户提交的评价反馈和投诉信息。
- **处理投诉**：管理员对用户的投诉进行处理，将处理结果反馈给用户。

#### 7. 可视化统计

- **统计用户数据**：管理员可以统计普通用户和兼职代取用户的数量、活跃度等数据。
- **统计代取任务数据**：管理员可以统计代取任务的数量、完成率等数据。
- **统计评价反馈数据**：管理员可以统计用户的评价反馈数据，如满意度评分分布等。

### 可选功能

#### 1. 智能分配任务（根据地址）

- 系统根据包裹的收件地址和兼职代取用户的位置信息，自动将代取任务分配给距离较近的兼职代取用户，提高代取效率。

#### 2. 服务信誉评级

- 系统根据用户的评价反馈、代取任务完成情况等因素，对兼职代取用户进行服务信誉评级，评级结果将影响兼职代取用户的接单机会和收入。

#### 3. 语音助手交互

- 用户可以通过语音指令与系统进行交互，如查询包裹状态、提交代取申请等，提高用户操作的便捷性。

#### 4. 特殊物品取件

- 系统支持对特殊物品（如易碎品、危险品等）的取件管理，在代取申请和操作过程中，需要额外的注意事项和安全措施。

#### 5. 取件预约

- 用户可以提前预约取件时间，系统根据预约情况安排兼职代取用户进行取件，提高服务的计划性和准确性。
